<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data output sample</title>
</head>
<body>
<style>
    *{
        margin: 0;
        padding: 0;
    }
    header{
        top: 0;
        left: 0;
        text-align: center;
        background-color: black;
        color: #fff;
        padding:5px;
    }
    .graphic{
        position: fixed;
        left: 0.5%;
        top: 30px;
        border: 1px solid black;
        width: 99%;
        height: 500px;
    }
    .articles{
        width:100%;
        margin-top: 600px;
    }
    .dot{
        background-color: black;
        border-radius: 30px;
        height: 7px;
        width: 7px;
        position: absolute;
        z-index: -1;
    }
    .dot div{
        display: none;
        position: absolute;
        margin-top: -40px;
        background-color: green;
        width: 100px;
        z-index: 3;
    }
    .dot:hover{
        background-color: aquamarine;
    }
    .dot:hover > div{
        display: block;

    }
</style>
<header>
    Output data for BTCUSDT for 07.07.2022
</header>
    <div class="graphic" id="GRAPHIC">
    </div>
    <div class="data articles">
        Selected Dot Date: <span id="s_date">Dot is not selected</span> <br>
        Selected Dot Price: <span id="s_price">Dot is not selected</span> <br>
        <h3>graphic params</h3>
        graphic min price: <span id="g_min_price"></span> <br>
        graphic max price: <span id="g_max_price"></span> <br>
        graphic unit height: <span id="g_unit_height"></span> <br>
        graphic unit width: <span id="g_unit_width"></span> <br>
    </div>
    <div class="data">
        <article>
            <h2>name</h2>
            <a href="google.com">post link</a>
            <span>post date</span>
        </article>
    </div>
    <footer>
        <span style="position: fixed; right:30px; bottom: 20px;">Made by <a href="https://kwork.ru/user/dmtdev">DMT</a></span>
    </footer>
<script>
    function getRandomInt(max) {
        return Math.floor(Math.random() * max);
    }
    const MAX_HEIGHT = 500;
    MAX_PRICE = 0;
    MIN_PRICE = 25000;
    WIDTH_PER_UNIT = 0;
    const WINDOW_WIDTH = window.innerWidth;
    GRAPHIC_WIDTH = WINDOW_WIDTH/100*98;
    data = [];
    for (i = 1; i <= 100; i++){
        let new_price = 20000+getRandomInt(1000);
        if (new_price < MIN_PRICE){
            MIN_PRICE = new_price;
        }
        if (new_price > MAX_PRICE){
            MAX_PRICE = new_price;
        }
        data.push({
            "time": i,
            "price": 20000+getRandomInt(1000),
            "news": [{"title": i, "link": "https://google.com", "date": "2022-05-04"},{"title": i, "link": "https://google.com", "date": "2022-05-04"},{"title": i, "link": "https://google.com", "date": "2022-05-04"},]
        })
    }
    DOT_WIDTH = GRAPHIC_WIDTH / data.length
    GRAPHIC_HEIGHT_UNIT = MAX_HEIGHT/(MAX_PRICE - MIN_PRICE)
    GRAPHIC_ELEMENT = document.getElementById("GRAPHIC")
    document.getElementById("g_min_price").innerText = MIN_PRICE
    document.getElementById("g_max_price").innerText = MAX_PRICE
    document.getElementById("g_unit_height").innerText = GRAPHIC_HEIGHT_UNIT + " px"
    document.getElementById("g_unit_width").innerText = DOT_WIDTH + " px"
    prev_dot_x = 0
    prev_dot_y = 0
    data.forEach((el, index) => {

        // Drawing dots

        new_element = document.createElement("div");
        new_inner_element = document.createElement("div");
        inner_date = document.createElement("span")
        inner_date.innerText = "Time: ".concat(el["time"])
        inner_price = document.createElement("span")
        inner_price.innerText = "Price: ".concat(el["price"])
        new_inner_element.appendChild(inner_date)
        new_inner_element.appendChild(document.createElement("br"))
        new_inner_element.appendChild(inner_price)
        new_element.appendChild(new_inner_element)
        new_element.setAttribute("index", index)

        new_element.classList.add("dot");
        new_element.style.marginLeft = String(index*DOT_WIDTH)+"px";
        margin_top = MAX_HEIGHT - (el["price"]-MIN_PRICE)*GRAPHIC_HEIGHT_UNIT;
        new_element.style.marginTop = String(margin_top)+"px";

        // Drawing lines between dots


        new_element.addEventListener("click", (e) => {
            document.getElementById("s_date").innerText = el["time"]
            document.getElementById("s_price").innerText = el["price"]
        })
        GRAPHIC_ELEMENT.appendChild(new_element);

    })


</script>
</body>
</html>